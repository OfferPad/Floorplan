$nav-slide-duration: 0.4s;
$nav-slide-easing: ease;

.page__main {
    transition-property: margin-left, margin-right;
    transition-duration: $nav-slide-duration;
    transition-timing-function: $nav-slide-easing;
    position: relative;
    &:after {
        content: '';
        display: block;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: op-color('grey-blue');
        opacity: 0;
        pointer-events: none;
        transition-property: opacity;
        transition-duration: $nav-slide-duration;
        transition-timing-function: $nav-slide-easing;
    }
}

body.body--nav-open {
    overflow: hidden;
    @include bp-navigation {
        .page__main {
            margin-left: $navigation-width;
            margin-right: -1 * $navigation-width;
            &:after {
                opacity: 0.5;
                pointer-events: initial;
            }
        }
    }
}

.navigation {
    display: flex;
    flex-direction: column;
    position: fixed;
    z-index: 100;
    top: 0;
    width: 100%;
    background: $bg-color;
    @include box_shadow(1);
    &__header {
        display: flex;
        align-items: center;
        height: $header-height;
        @include padding(0 1);
        .menu-icon {
            @include margin-right(2/3);
        }
    }
    &__logo {
        display: block;
        height: 1.125rem;
        width: 8.625rem;
        background-image: url('../static/images/offerpad-logo.svg');
        @include hide-text;
    }
    &__list {
        display: none;
        height: calc(100vh - #{$header-height});
        .navigation__logo {
            display: none;
        }
    }
    &__group {
        border-top: 3px solid op-color('grey-light');
    }
    ul {
        padding-left: 0;
        margin: 0;
    }
    li {
        list-style: none;
        text-align: center;
        font-weight: 600;
        font-style: italic;
        a {
            display: block;
            @include padding(0 1);
            color: op-color('grey-dark');
            text-decoration: none;
            @include hover-focus {
                background-color: op-color('offwhite');
            }
        }
    }
    .list-header {
        text-transform: uppercase;
        font-style: normal;
        a {
            @include padding(1);
            color: op-color('black');
        }
    }
    @include bp-navigation {
        left: 0;
        bottom: 0;
        width: $header-height + $navigation-width;
        flex-direction: row-reverse;
        justify-content: space-between;
        transition-property: margin-left;
        transition-duration: $nav-slide-duration;
        transition-timing-function: $nav-slide-easing;
        &.js-collapsed {
            margin-left: -1 * $navigation-width;
        }
        &__header {
            height: 100%;
            width: $header-height;
            flex-direction: column;
            @include padding(0.25 0);
            .navigation__logo {
                display: none;
            }
            .menu-icon {
                margin-right: 0;
            }
        }
        &__list {
            display: block;
            height: 100%;
            width: $navigation-width;
            @include padding(1);
            .navigation__logo {
                display: block;
                @include margin(0 auto 1);
            }
        }
    }
}
